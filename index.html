<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" />
<title>GrumpyLinks Pro â€” Turn Customer Pain Into Profit</title>
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
<script src="env-config.js"></script>
<style>
:root {
  /* Updated Notion-like palette */
  --bg-primary: #0f1115;
  --bg-secondary: #131720;
  --bg-tertiary: #171b26;
  --bg-card: #151a23;
  --bg-card-hover: #181e2a;
  --bg-input: #111623;
  --bg-button: #2f80ed;
  --bg-button-hover: #2563eb;
  --bg-success: #22c55e;
  --bg-warning: #f59e0b;
  --bg-danger: #ef4444;
  --bg-pro: #8b5cf6;
  --bg-pro-hover: #7c3aed;
  
  --text-primary: #e6e9ef;
  --text-secondary: #9aa3b2;
  --text-muted: #7a8494;
  --text-accent: #2f80ed;
  --text-pro: #8b5cf6;
  
  --border-primary: #1e2433;
  --border-secondary: #263146;
  --border-accent: #2f80ed;
  --border-pro: #8b5cf6;
  
  /* Platform colors */
  --reddit: #ff4500; --twitter: #1da1f2; --linkedin: #0077b5; --hackernews: #ff6600; --github: #ffffff;
  --stackoverflow: #f48024; --medium: #ffffff; --quora: #b92b27; --youtube: #ff0000; --producthunt: #da552f;
  --discord: #5865f2; --glassdoor: #0caa41; --trustpilot: #00b67a; --appstore: #007aff; --tiktok: #ffffff;
}

* { 
  box-sizing: border-box; 
  margin: 0; 
  padding: 0;
  scrollbar-width: thin;
  scrollbar-color: #2b3548 transparent;
}

*::-webkit-scrollbar { height: 10px; width: 10px; }
*::-webkit-scrollbar-thumb { background: #2b3548; border-radius: 8px; }
*::-webkit-scrollbar-track { background: transparent; }

::selection {
  background: rgba(47, 128, 237, 0.28);
  color: var(--text-primary);
}

body { 
  font-family: 'Inter', -apple-system, BlinkMacSystemFont, sans-serif;
  background: var(--bg-primary);
  color: var(--text-primary);
  line-height: 1.5;
  font-size: 14px;
  overflow-x: hidden;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  letter-spacing: 0.01em;
}

.app { display: flex; min-height: 100vh; }

.sidebar { 
  width: 320px; 
  background: var(--bg-secondary); 
  border-right: 1px solid var(--border-primary); 
  padding: 16px; 
  overflow-y: auto; 
  flex-shrink: 0; 
}

.logo { 
  display: flex; 
  flex-direction: column; 
  align-items: center; 
  text-decoration: none; 
  color: var(--text-primary);
  font-weight: 800; 
  font-size: 18px; 
  margin-bottom: 16px; 
  padding: 12px 0; 
  border-bottom: 1px solid var(--border-primary); 
}

.logo-emoji { font-size: 32px; margin-bottom: 4px; }

/* Freemium Banner */
.freemium-banner {
  background: linear-gradient(135deg, var(--bg-pro) 0%, #6366f1 100%);
  border: 1px solid var(--border-pro);
  border-radius: 8px;
  padding: 16px;
  margin-bottom: 16px;
  text-align: center;
}

.freemium-title {
  font-size: 14px;
  font-weight: 700;
  color: white;
  margin-bottom: 8px;
}

.freemium-subtitle {
  font-size: 12px;
  color: rgba(255,255,255,0.9);
  margin-bottom: 12px;
  line-height: 1.4;
}

.upgrade-btn {
  background: white;
  color: var(--bg-pro);
  border: none;
  padding: 10px 20px;
  border-radius: 6px;
  font-size: 12px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.upgrade-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
}

.hero-content-sidebar { 
  margin-bottom: 16px; 
  padding: 12px; 
  background: var(--bg-tertiary); 
  border-radius: 8px; 
  border: 1px solid var(--border-primary); 
  text-align: center; 
}

.hero-title-sidebar { font-size: 15px; font-weight: 700; margin-bottom: 6px; color: var(--text-primary); }
.hero-subtitle-sidebar { font-size: 12px; color: var(--text-secondary); line-height: 1.4; }

/* Credits Display */
.credits-section {
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 8px;
  padding: 12px;
  margin-bottom: 16px;
}

.credits-header {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 8px;
}

.credits-title {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-muted);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.credits-count {
  font-size: 16px;
  font-weight: 700;
  color: var(--text-accent);
}

.credits-bar {
  width: 100%;
  height: 4px;
  background: var(--bg-input);
  border-radius: 2px;
  overflow: hidden;
  margin-bottom: 8px;
}

.credits-fill {
  height: 100%;
  background: linear-gradient(90deg, var(--bg-success) 0%, var(--bg-warning) 70%, var(--bg-danger) 100%);
  transition: width 0.3s ease;
  width: 65%; /* Will be dynamic */
}

.credits-text {
  font-size: 10px;
  color: var(--text-muted);
  text-align: center;
}

.search-section { margin-bottom: 16px; }

.section-title { 
  font-size: 11px; 
  font-weight: 600; 
  color: var(--text-muted); 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
  margin-bottom: 8px; 
}

.search-input, .select-input { 
  width: 100%; 
  background: var(--bg-input); 
  border: 1px solid var(--border-primary);
  border-radius: 6px; 
  color: var(--text-primary); 
  font-weight: 500; 
  transition: border-color 0.2s, box-shadow 0.2s; 
  font-family: inherit; 
  margin-bottom: 12px; 
}

.search-input { padding: 12px 16px; font-size: 14px; }
.select-input { padding: 10px 16px; font-size: 13px; cursor: pointer; margin-bottom: 8px; }

.search-input:focus, .select-input:focus { 
  outline: none; 
  border-color: var(--border-accent);
  box-shadow: 0 0 0 3px rgba(47, 128, 237, 0.25);
}

.search-input::placeholder { color: var(--text-muted); }

.search-button { 
  width: 100%; 
  background: var(--bg-button); 
  color: white; 
  border: 1px solid transparent;
  padding: 12px 24px;
  border-radius: 6px; 
  font-size: 14px; 
  font-weight: 600; 
  cursor: pointer; 
  transition: background-color 0.2s, box-shadow 0.2s;
  font-family: inherit; 
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
}

.search-button:hover { background: var(--bg-button-hover); }
.search-button:disabled {
  background: var(--bg-tertiary);
  color: var(--text-muted);
  cursor: not-allowed;
}

.main-content { flex: 1; padding: 32px; overflow-y: auto; }

/* Revenue Metrics Dashboard */
.revenue-dashboard {
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  padding: 24px;
  margin-bottom: 32px;
  display: none; /* Show for pro users */
}

.dashboard-title {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 16px;
  display: flex;
  align-items: center;
  gap: 8px;
}

.dashboard-metrics {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
  gap: 16px;
}

.metric-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 8px;
  padding: 16px;
  text-align: center;
}

.metric-value {
  font-size: 24px;
  font-weight: 700;
  color: var(--bg-success);
  margin-bottom: 4px;
}

.metric-label {
  font-size: 12px;
  color: var(--text-secondary);
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.metric-trend {
  font-size: 10px;
  color: var(--bg-success);
  margin-top: 4px;
}

.results-header { margin-bottom: 32px; }
.results-title { font-size: 32px; font-weight: 800; margin-bottom: 8px; color: var(--text-primary); }
.results-subtitle { color: var(--text-secondary); font-size: 16px; }

.results-grid { 
  display: grid; 
  grid-template-columns: repeat(auto-fit, minmax(350px, 1fr)); 
  gap: 20px; 
  max-width: 1400px; 
}

/* Enhanced Result Cards with Market Size */
.result-card { 
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  transition: border-color 0.2s ease, transform 0.12s ease, background 0.2s ease;
  display: flex; 
  flex-direction: column; 
  height: 100%;
  position: relative;
}

.market-size-badge {
  position: absolute;
  top: 12px;
  right: 12px;
  padding: 4px 8px;
  border-radius: 12px;
  font-size: 10px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.market-size-high { background: var(--bg-success); color: white; }
.market-size-medium { background: var(--bg-warning); color: white; }
.market-size-low { background: var(--bg-danger); color: white; }

.revenue-potential {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 6px;
  padding: 12px;
  margin-top: 12px;
}

.revenue-title {
  font-size: 11px;
  font-weight: 600;
  color: var(--text-pro);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin-bottom: 6px;
}

.revenue-estimate {
  font-size: 14px;
  font-weight: 600;
  color: var(--bg-success);
  margin-bottom: 4px;
}

.revenue-timeframe {
  font-size: 11px;
  color: var(--text-muted);
}

/* Platform badge colors */
.source-reddit { background: var(--reddit); } .source-twitter { background: var(--twitter); }
.source-linkedin { background: var(--linkedin); } .source-hackernews { background: var(--hackernews); }
.source-github, .source-medium, .source-tiktok { background: var(--github); color: var(--bg-primary); }
.source-stackoverflow { background: var(--stackoverflow); } .source-quora { background: var(--quora); }
.source-youtube { background: var(--youtube); } .source-producthunt { background: var(--producthunt); }
.source-discord { background: var(--discord); } .source-glassdoor { background: var(--glassdoor); }
.source-trustpilot { background: var(--trustpilot); } .source-appstore { background: var(--appstore); }
.source-default { background: var(--text-muted); }

.result-card:hover { 
  border-color: var(--border-secondary);
  transform: translateY(-1px);
  background: var(--bg-card-hover);
}

.card-header { 
  padding: 20px 20px 16px; 
  border-bottom: 1px solid var(--border-primary); 
}

.source-info {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 16px;
  width: 100%;
}

.source-badge { 
  font-size: 10px; 
  font-weight: 700; 
  padding: 4px 8px; 
  border-radius: 6px; 
  text-transform: uppercase; 
  letter-spacing: 0.02em; 
}

.source-date {
  font-size: 11px;
  font-weight: 500;
  color: var(--text-muted);
  background: var(--bg-tertiary);
  padding: 4px 8px;
  border-radius: 4px;
  letter-spacing: 0.3px;
  white-space: nowrap;
  flex-shrink: 0;
}

.problem-title { 
  font-size: 12px; 
  font-weight: 600; 
  color: var(--text-accent);
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
  margin-bottom: 8px; 
}

.problem-text { 
  font-size: 15px; 
  line-height: 1.4; 
  color: var(--text-primary); 
  font-style: italic; 
}

mark {
  background: rgba(255, 246, 200, 0.35);
  color: var(--text-primary);
  padding: 2px 4px;
  border-radius: 3px;
  font-weight: 500;
}

.card-body { padding: 20px; flex-grow: 1; }

.solution-title { 
  font-size: 12px; 
  font-weight: 600; 
  color: var(--text-accent);
  text-transform: uppercase; 
  letter-spacing: 0.5px; 
  margin-bottom: 12px; 
}

.solution-text { font-size: 14px; line-height: 1.5; color: var(--text-primary); }

.card-action { padding: 16px 20px 28px; display: flex; flex-direction: column; gap: 8px; }

.generate-prd-btn { 
  background: linear-gradient(135deg, var(--bg-button) 0%, #1d4ed8 100%);
  color: white; 
  border: none; 
  padding: 14px 20px; 
  border-radius: 8px; 
  font-size: 13px; 
  font-weight: 600;
  cursor: pointer; 
  transition: all 0.2s; 
  font-family: inherit; 
  text-align: center;
  box-shadow: 0 4px 12px rgba(37,99,235,0.3); 
}

.generate-prd-btn:hover { transform: translateY(-1px); box-shadow: 0 6px 16px rgba(37,99,235,0.4); }
.generate-prd-btn:disabled { opacity: 0.6; cursor: not-allowed; transform: none; }

.pro-only-btn {
  background: linear-gradient(135deg, var(--bg-pro) 0%, #7c3aed 100%);
  position: relative;
  overflow: hidden;
}

.pro-only-btn:hover {
  background: linear-gradient(135deg, var(--bg-pro-hover) 0%, #6d28d9 100%);
}

.pro-badge {
  position: absolute;
  top: -2px;
  right: -2px;
  background: var(--bg-warning);
  color: white;
  font-size: 8px;
  padding: 2px 6px;
  border-radius: 8px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
}

.source-link { 
  color: var(--text-muted); 
  text-decoration: none; 
  font-size: 11px; 
  text-align: center;
  padding: 4px; 
  transition: color 0.2s; 
}

.source-link:hover { color: var(--text-accent); }

/* Competitor Tracking Section */
.competitor-section {
  background: var(--bg-card);
  border: 1px solid var(--border-primary);
  border-radius: 12px;
  padding: 24px;
  margin-top: 32px;
  display: none; /* Show for pro users */
}

.competitor-title {
  font-size: 18px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 16px;
}

.competitor-grid {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
  gap: 16px;
}

.competitor-card {
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 8px;
  padding: 16px;
}

.competitor-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.competitor-threat {
  font-size: 12px;
  padding: 4px 8px;
  border-radius: 4px;
  display: inline-block;
  margin-bottom: 8px;
}

.threat-high { background: var(--bg-danger); color: white; }
.threat-medium { background: var(--bg-warning); color: white; }
.threat-low { background: var(--bg-success); color: white; }

.competitor-insights {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.4;
}

/* Paywall Modal */
.paywall-modal {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: rgba(0,0,0,0.8);
  display: none;
  align-items: center;
  justify-content: center;
  z-index: 1000;
}

.paywall-content {
  background: var(--bg-card);
  border: 1px solid var(--border-pro);
  border-radius: 16px;
  padding: 40px;
  max-width: 500px;
  text-align: center;
  position: relative;
}

.paywall-close {
  position: absolute;
  top: 16px;
  right: 20px;
  background: none;
  border: none;
  color: var(--text-muted);
  font-size: 24px;
  cursor: pointer;
}

.paywall-title {
  font-size: 24px;
  font-weight: 700;
  color: var(--text-primary);
  margin-bottom: 16px;
}

.paywall-subtitle {
  font-size: 16px;
  color: var(--text-secondary);
  margin-bottom: 24px;
  line-height: 1.5;
}

.pricing-plans {
  display: flex;
  gap: 16px;
  margin-bottom: 24px;
}

.pricing-plan {
  flex: 1;
  background: var(--bg-tertiary);
  border: 1px solid var(--border-secondary);
  border-radius: 8px;
  padding: 20px;
  cursor: pointer;
  transition: all 0.2s;
}

.pricing-plan:hover,
.pricing-plan.selected {
  border-color: var(--border-pro);
  background: var(--bg-card-hover);
}

.plan-name {
  font-size: 14px;
  font-weight: 600;
  color: var(--text-primary);
  margin-bottom: 8px;
}

.plan-price {
  font-size: 20px;
  font-weight: 700;
  color: var(--text-pro);
  margin-bottom: 8px;
}

.plan-features {
  font-size: 12px;
  color: var(--text-secondary);
  line-height: 1.4;
}

.upgrade-now-btn {
  width: 100%;
  background: linear-gradient(135deg, var(--bg-pro) 0%, #7c3aed 100%);
  color: white;
  border: none;
  padding: 16px 32px;
  border-radius: 8px;
  font-size: 16px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s;
}

.upgrade-now-btn:hover {
  transform: translateY(-1px);
  box-shadow: 0 8px 24px rgba(139, 92, 246, 0.4);
}

/* Rest of existing styles remain the same... */
.footer { 
  border-top: 1px solid var(--border-primary); 
  padding: 60px 32px 32px; 
  margin-top: 60px; 
}

.footer-content { max-width: 800px; margin: 0 auto; }
.footer-hero { text-align: center; margin-bottom: 40px; }
.footer-hero h2 { font-size: 28px; font-weight: 800; margin-bottom: 12px; color: var(--text-primary); }
.footer-hero p { font-size: 16px; color: var(--text-secondary); max-width: 500px; margin: 0 auto; line-height: 1.6; }

.loading-container, .empty-state { grid-column: 1 / -1; text-align: center; padding: 60px 20px; }
.loading-spinner { 
  display: inline-block; 
  width: 32px; 
  height: 32px; 
  border: 2px solid var(--border-primary);
  border-top: 2px solid var(--text-accent); 
  border-radius: 50%; 
  animation: spin 1s linear infinite; 
  margin-bottom: 16px; 
}

@keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

.loading-text { color: var(--text-secondary); font-size: 14px; }
.empty-state h3 { color: var(--text-primary); font-size: 18px; font-weight: 600; margin-bottom: 8px; }
.empty-state p { color: var(--text-secondary); font-size: 14px; }

/* Responsive Design */
@media (max-width: 1200px) { 
  .results-grid { grid-template-columns: repeat(2, 1fr); } 
}

@media (max-width: 1024px) { 
  .app { flex-direction: column; }
  .sidebar { width: 100%; border-right: none; border-bottom: 1px solid var(--border-primary); }
  .results-grid { grid-template-columns: 1fr; }
  .pricing-plans { flex-direction: column; }
}

@media (max-width: 768px) {
  .sidebar, .main-content { padding: 16px; }
  .search-input, .select-input { font-size: 16px; }
  .dashboard-metrics { grid-template-columns: 1fr; }
  .competitor-grid { grid-template-columns: 1fr; }
}
</style>
</head>
<body>

<div class="app">
  <aside class="sidebar">
    <a href="#" class="logo">
      <span class="logo-emoji">ðŸ˜¤</span>
      <span class="logo-text">GrumpyLinks Pro</span>
    </a>

    <!-- Freemium Banner -->
    <div class="freemium-banner">
      <div class="freemium-title">Free Trial Active</div>
      <div class="freemium-subtitle">Unlock revenue insights, competitor tracking, and unlimited PRDs</div>
      <button class="upgrade-btn" onclick="showPaywall()">Upgrade to Pro</button>
    </div>

    <!-- Credits Display -->
    <div class="credits-section">
      <div class="credits-header">
        <span class="credits-title">Search Credits</span>
        <span class="credits-count" id="creditsCount">13/20</span>
      </div>
      <div class="credits-bar">
        <div class="credits-fill" id="creditsFill"></div>
      </div>
      <div class="credits-text">Resets monthly â€¢ Pro: Unlimited</div>
    </div>

    <div class="hero-content-sidebar">
      <h1 class="hero-title-sidebar">Turn Customer Pain Into Profit</h1>
      <p class="hero-subtitle-sidebar">Find pain points, estimate revenue, track competitors, build what customers pay for</p>
    </div>

    <div class="search-section">
      <div class="section-title">FIND PROFITABLE PAIN</div>
      <input id="searchInput" class="search-input" type="text" placeholder="Brand, product, or market..." />
      <select id="queryDropdown" class="select-input">
        <option value="">General Pain Points</option>
        <option value="competitor_hate">Competitor Complaints</option>
        <option value="switching_signals">Switching Signals</option>
        <option value="wish_list">Unmet Needs</option>
        <option value="feature_requests">Feature Requests</option>
        <option value="urgent_help">Urgent Problems</option>
      </select>
      <select id="platformSelect" class="select-input">
        <option value="all">All Platforms</option>
        <option value="reddit">Reddit</option>
        <option value="twitter">Twitter</option>
        <option value="linkedin">LinkedIn</option>
        <option value="hackernews">Hacker News</option>
        <option value="youtube">YouTube</option>
        <option value="producthunt">Product Hunt</option>
        <option value="discord">Discord</option>
        <option value="glassdoor">Glassdoor</option>
        <option value="trustpilot">Trustpilot</option>
      </select>
      <select id="timeSelect" class="select-input">
        <option value="d7">Last 7 days</option>
        <option value="d1">Last 24 hours</option>
        <option value="d30">Last 30 days</option>
        <option value="d365">Last year</option>
      </select>
      <button id="searchBtn" class="search-button">Analyze Market</button>
    </div>
  </aside>

  <main class="main-content">
    <!-- Revenue Dashboard -->
    <div class="revenue-dashboard" id="revenueDashboard">
      <h2 class="dashboard-title">
        ðŸ’° Revenue Intelligence Dashboard
      </h2>
      <div class="dashboard-metrics">
        <div class="metric-card">
          <div class="metric-value">$847K</div>
          <div class="metric-label">Total Market Size</div>
          <div class="metric-trend">â†— +23% vs last month</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">$127K</div>
          <div class="metric-label">Addressable Revenue</div>
          <div class="metric-trend">â†— +15% opportunity</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">87</div>
          <div class="metric-label">High-Value Complaints</div>
          <div class="metric-trend">â†— +34 new this week</div>
        </div>
        <div class="metric-card">
          <div class="metric-value">4.2x</div>
          <div class="metric-label">ROI Multiplier</div>
          <div class="metric-trend">Above industry avg</div>
        </div>
      </div>
    </div>

    <div class="results-header" id="resultsHeader" style="display: none;">
      <h2 class="results-title">Profitable Product Opportunities</h2>
      <p class="results-subtitle">Customer pain points ranked by revenue potential and market size</p>
    </div>

    <div id="resultsGrid" class="results-grid">
      <div class="loading-container">
        <div class="loading-spinner"></div>
        <p class="loading-text">Loading monetized demo results...</p>
      </div>
    </div>

    <!-- Competitor Tracking Section -->
    <div class="competitor-section" id="competitorSection">
      <h3 class="competitor-title">ðŸŽ¯ Competitor Threat Analysis</h3>
      <div class="competitor-grid">
        <div class="competitor-card">
          <div class="competitor-name">ChatGPT Business Tools</div>
          <span class="competitor-threat threat-high">High Threat</span>
          <div class="competitor-insights">
            Building enterprise research tools. 847 companies switching. Estimated $12M ARR.
          </div>
        </div>
        <div class="competitor-card">
          <div class="competitor-name">Notion AI Workspace</div>
          <span class="competitor-threat threat-medium">Medium Threat</span>
          <div class="competitor-insights">
            Adding market research features. 234 complaints about complexity. Opportunity window: 6 months.
          </div>
        </div>
        <div class="competitor-card">
          <div class="competitor-name">Product Hunt Analytics</div>
          <span class="competitor-threat threat-low">Low Threat</span>
          <div class="competitor-insights">
            Limited AI capabilities. Users requesting better insights. Clear differentiation opportunity.
          </div>
        </div>
      </div>
    </div>

    <footer class="footer">
      <div class="footer-content">
        <div class="footer-hero">
          <h2>Stop Building Products Nobody Wants</h2>
          <p>Join 2,847 entrepreneurs using GrumpyLinks Pro to find validated business opportunities worth $127M+ in total addressable market.</p>
        </div>
        
        <div class="footer-bottom">
          <p>Â© 2025 GrumpyLinks Pro - Turn Pain Into Profit</p>
        </div>
      </div>
    </footer>
  </main>
</div>

<!-- Paywall Modal -->
<div class="paywall-modal" id="paywallModal">
  <div class="paywall-content">
    <button class="paywall-close" onclick="hidePaywall()">Ã—</button>
    <h2 class="paywall-title">Unlock Revenue Intelligence</h2>
    <p class="paywall-subtitle">See exactly how much money each customer pain point is worth and track competitors stealing your market.</p>
    
    <div class="pricing-plans">
      <div class="pricing-plan" onclick="selectPlan('starter')">
        <div class="plan-name">Starter</div>
        <div class="plan-price">$97/mo</div>
        <div class="plan-features">
          â€¢ 500 searches/month<br>
          â€¢ Revenue estimates<br>
          â€¢ Basic competitor tracking
        </div>
      </div>
      <div class="pricing-plan selected" onclick="selectPlan('pro')">
        <div class="plan-name">Pro</div>
        <div class="plan-price">$297/mo</div>
        <div class="plan-features">
          â€¢ Unlimited searches<br>
          â€¢ Market size analysis<br>
          â€¢ Advanced competitor intel<br>
          â€¢ Revenue forecasting
        </div>
      </div>
    </div>
    
    <button class="upgrade-now-btn" onclick="startTrial()">Start 7-Day Free Trial</button>
    <p style="font-size: 12px; color: var(--text-muted); margin-top: 12px;">
      Cancel anytime â€¢ No setup fees â€¢ Results in 24 hours
    </p>
  </div>
</div>

<script>
// Enhanced Configuration with monetization
const API_CONFIG = { 
  GOOGLE_API_KEY: '', 
  SEARCH_ENGINE_ID: '', 
  LAMBDA_ENDPOINT: '',
  STRIPE_KEY: '' // For payments
};

// User state management
let userState = {
  isPro: false,
  creditsRemaining: 13,
  maxCredits: 20,
  plan: 'free',
  trialEndsAt: null
};

// Enhanced demo data with revenue insights
const MONETIZED_DEMO_RESULTS = {
  query: "",
  results: [
    {
      title: "Zach (Probably) on X: \"This is actually painful, #ChatGPT works well ...\"",
      snippet: "This is actually painful, #ChatGPT works well on airplane wifi more or less... #Grok... Sucks. Like holy fuck does it SUCK on whatever insane networking is ...",
      link: "https://x.com/ThatOtherZach/status/1956024889560760322",
      displayLink: "x.com",
      insight: { 
        businessOpportunity: "Develop an AI model optimized for low-bandwidth airplane wifi that offers a competitive advantage over existing AI assistants like Grok. Market it directly to travelers.", 
        urgency: "high",
        marketSize: "high",
        revenueEstimate: "$2.3M ARR",
        timeframe: "12-18 months",
        confidence: 87
      }
    },
    {
      title: "Why Wont Snapchat Work on Breeze Airplane Wifi | TikTok",
      snippet: "... broken â€¢ original sound - The office quote.s â€¢ Why Wont My Snap Chat Let Me ... Snapchat Is So Annoying â€¢ Why Is Snapchat Not Sending My Snaps. 364Likes. 203 ...",
      link: "https://www.tiktok.com/discover/why-wont-snapchat-work-on-breeze-airplane-wifi",
      displayLink: "www.tiktok.com",
      insight: { 
        businessOpportunity: "Create a mobile app troubleshooting guide specifically for Snapchat and other popular apps on Breeze Airways wifi, offering solutions and workarounds.", 
        urgency: "medium",
        marketSize: "medium",
        revenueEstimate: "$840K ARR",
        timeframe: "6-9 months",
        confidence: 73
      }
    },
    {
      title: "iOS - NextDNS Help Center",
      snippet: "Public WiFis / Airplane WiFI / Hotel WiFis / Captive Portal WiFis. Couldn't ... Wrongly 'seemingly' blocked from NextDNS and need help here.. also for ...",
      link: "https://help.nextdns.io/tag/ios",
      displayLink: "help.nextdns.io",
      insight: { 
        businessOpportunity: "Offer a VPN service optimized to bypass captive portals and improve connectivity on public and airplane wifi networks, specifically for iOS devices.", 
        urgency: "high",
        marketSize: "high",
        revenueEstimate: "$4.7M ARR",
        timeframe: "8-12 months",
        confidence: 91
      }
    },
    {
      title: "How to Connect Laptop to Airplane Wifi | TikTok",
      snippet: "... Airplane Wifi Spirit, How to Fix Unable to Connect to Wifi Hp Laptop ... How to Connect Phone to Pc with Broken Screen â€¢ Cara Guna Usb Wifi Adapter.",
      link: "https://www.tiktok.com/discover/how-to-connect-laptop-to-airplane-wifi",
      displayLink: "www.tiktok.com",
      insight: { 
        businessOpportunity: "Develop a simplified step-by-step video tutorial series on connecting different laptop brands to airplane wifi, monetized through ads or premium content.", 
        urgency: "low",
        marketSize: "low",
        revenueEstimate: "$180K ARR",
        timeframe: "3-6 months",
        confidence: 45
      }
    },
    {
      title: "Reclining your seat on a flight. I didn't know it was so taboo ...",
      snippet: "airplane wifi is ass so I used my Nintendo Switch) But for longer flights ... What do you need help on? Cancel X. Post New Message. You're browsing the ...",
      link: "https://gamefaqs.gamespot.com/boards/264562-playstation-5/81025624",
      displayLink: "gamefaqs.gamespot.com",
      insight: { 
        businessOpportunity: "Develop a curated entertainment package (movies, games, ebooks) that can be downloaded before the flight and enjoyed without relying on airplane wifi.", 
        urgency: "medium",
        marketSize: "medium",
        revenueEstimate: "$1.2M ARR",
        timeframe: "4-8 months",
        confidence: 68
      }
    },
    {
      title: "Starlink MCI to IAH : r/unitedairlines",
      snippet: "... airplane WiFI. Upvote 2. Downvote Reply reply. Award ... I hate this about United â€¢ r/unitedairlines - I hate this about United. 2. 25 ...",
      link: "https://www.reddit.com/r/unitedairlines/comments/1mqcce2/starlink_mci_to_iah/",
      displayLink: "www.reddit.com",
      insight: { 
        businessOpportunity: "Create a real-time airplane wifi speed test and review platform where users can rate and compare the performance of different airlines' wifi services. Offer premium data insights to airlines.", 
        urgency: "high",
        marketSize: "high",
        revenueEstimate: "$3.8M ARR",
        timeframe: "6-12 months",
        confidence: 84
      }
    }
  ]
};

function loadConfig() {
  if (window.ENV) {
    API_CONFIG.GOOGLE_API_KEY = window.ENV.GOOGLE_API_KEY || '';
    API_CONFIG.SEARCH_ENGINE_ID = window.ENV.SEARCH_ENGINE_ID || '';
    API_CONFIG.LAMBDA_ENDPOINT = window.ENV.LAMBDA_ENDPOINT || '';
    API_CONFIG.STRIPE_KEY = window.ENV.STRIPE_KEY || '';
  }
}

function updateCreditsDisplay() {
  const creditsCount = document.getElementById('creditsCount');
  const creditsFill = document.getElementById('creditsFill');
  
  creditsCount.textContent = `${userState.creditsRemaining}/${userState.maxCredits}`;
  const percentage = (userState.creditsRemaining / userState.maxCredits) * 100;
  creditsFill.style.width = `${percentage}%`;
}

function consumeCredit() {
  if (userState.isPro) return true;
  
  if (userState.creditsRemaining <= 0) {
    showPaywall();
    return false;
  }
  
  userState.creditsRemaining--;
  updateCreditsDisplay();
  
  // Show paywall at 5 credits remaining
  if (userState.creditsRemaining === 5) {
    setTimeout(() => {
      showPaywall();
    }, 3000);
  }
  
  return true;
}

function showPaywall() {
  document.getElementById('paywallModal').style.display = 'flex';
  document.body.style.overflow = 'hidden';
}

function hidePaywall() {
  document.getElementById('paywallModal').style.display = 'none';
  document.body.style.overflow = 'auto';
}

function selectPlan(planType) {
  document.querySelectorAll('.pricing-plan').forEach(plan => {
    plan.classList.remove('selected');
  });
  event.target.closest('.pricing-plan').classList.add('selected');
}

function startTrial() {
  // In real implementation, integrate with Stripe
  alert('ðŸŽ‰ Trial started! Redirecting to payment setup...\n\nIn production: Stripe integration would handle this.');
  
  // Demo: upgrade user
  userState.isPro = true;
  userState.creditsRemaining = 999;
  userState.plan = 'pro';
  updateCreditsDisplay();
  hidePaywall();
  
  // Show pro features
  document.getElementById('revenueDashboard').style.display = 'block';
  document.getElementById('competitorSection').style.display = 'block';
}

function setupEventListeners() {
  document.getElementById('searchBtn').onclick = performSearch;
  document.getElementById('searchInput').onkeydown = e => {
    if (e.key === 'Enter') performSearch();
  };
}

function performSearch() {
  const keyword = document.getElementById('searchInput').value.trim();
  if (!keyword) {
    const searchInput = document.getElementById('searchInput');
    searchInput.style.borderColor = 'var(--bg-danger)';
    searchInput.placeholder = 'Please enter a search term...';
    searchInput.focus();
    
    setTimeout(() => {
      searchInput.style.borderColor = '';
      searchInput.placeholder = 'Brand, product, or market...';
    }, 3000);
    return;
  }

  // Check credits/pro status
  if (!consumeCredit()) {
    return;
  }

  showLoading();
  
  // For demo purposes, show enhanced results
  setTimeout(() => {
    displayMonetizedResults(MONETIZED_DEMO_RESULTS.results, keyword);
    if (userState.isPro) {
      document.getElementById('revenueDashboard').style.display = 'block';
      document.getElementById('competitorSection').style.display = 'block';
    }
  }, 2000);
}

function showLoading() {
  const grid = document.getElementById('resultsGrid');
  const resultsHeader = document.getElementById('resultsHeader');

  resultsHeader.style.display = 'block';
  grid.innerHTML = `
    <div class="loading-container">
      <div class="loading-spinner"></div>
      <p class="loading-text">Analyzing revenue potential across platforms...</p>
    </div>
  `;
}

function getMarketSizeClass(size) {
  const classes = {
    'high': 'market-size-high',
    'medium': 'market-size-medium',
    'low': 'market-size-low'
  };
  return classes[size] || 'market-size-low';
}

function getPlatformClass(domain) {
  const platforms = {
    reddit: 'source-reddit', twitter: 'source-twitter', 'x.com': 'source-twitter',
    linkedin: 'source-linkedin', 'news.ycombinator': 'source-hackernews', github: 'source-github',
    stackoverflow: 'source-stackoverflow', medium: 'source-medium', quora: 'source-quora',
    youtube: 'source-youtube', producthunt: 'source-producthunt', discord: 'source-discord',
    glassdoor: 'source-glassdoor', trustpilot: 'source-trustpilot', tiktok: 'source-tiktok',
    'apps.apple.com': 'source-appstore', 'play.google.com': 'source-appstore'
  };
  
  const match = Object.keys(platforms).find(key => domain.includes(key));
  return match ? platforms[match] : 'source-default';
}

function getPlatformName(domain) {
  const platforms = {
    reddit: 'Reddit', twitter: 'Twitter', 'x.com': 'Twitter', linkedin: 'LinkedIn',
    'news.ycombinator': 'Hacker News', github: 'GitHub', stackoverflow: 'Stack Overflow',
    medium: 'Medium', quora: 'Quora', youtube: 'YouTube', producthunt: 'Product Hunt',
    discord: 'Discord', glassdoor: 'Glassdoor', trustpilot: 'Trustpilot', tiktok: 'TikTok',
    'apps.apple.com': 'App Store', 'play.google.com': 'Play Store'
  };
  
  const match = Object.keys(platforms).find(key => domain.includes(key));
  return match ? platforms[match] : domain.split('.')[0];
}

function escapeHtml(text) {
  if (typeof text !== 'string') return text;
  const map = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#039;' };
  return text.replace(/[&<>"']/g, m => map[m]);
}

function displayMonetizedResults(results, keyword) {
  const grid = document.getElementById('resultsGrid');
  const resultsHeader = document.getElementById('resultsHeader');

  resultsHeader.style.display = 'block';

  if (!results.length) {
    grid.innerHTML = `
      <div class="empty-state">
        <h3>No Revenue Opportunities Found</h3>
        <p>Try a different search term, platform, or time range to discover profitable customer pain points.</p>
      </div>
    `;
    return;
  }

  const html = results.map((result, i) => {
    const platformClass = getPlatformClass(result.displayLink);
    const platformName = getPlatformName(result.displayLink);
    const insight = result.insight;
    const marketSizeClass = getMarketSizeClass(insight.marketSize);
    
    let snippet = result.snippet || '';
    snippet = snippet
      .replace(/&quot;/g, '"')
      .replace(/&amp;/g, '&')
      .replace(/&lt;/g, '<')
      .replace(/&gt;/g, '>')
      .replace(/&#39;/g, "'")
      .replace(/\s*Ã‚Â·\s*/g, ' ')
      .replace(/\s*\.\.\.\s*/g, ' ')
      .replace(/\s+/g, ' ');

    const truncatedSnippet = snippet.substring(0, 120);
    const escapedSnippet = escapeHtml(truncatedSnippet);

    const painWords = ['frustrated', 'hate', 'terrible', 'broken', 'annoying', 'wish', 'need', 'help', 'urgent', 'switching', 'alternative', 'missing', 'lack'];
    let highlightedSnippet = escapedSnippet;

    painWords.forEach(word => {
      const regex = new RegExp(`(^|\\s)(${word})(\\s|$)`, 'gi');
      highlightedSnippet = highlightedSnippet.replace(regex, '$1<mark>$2</mark>$3');
    });

    const isPro = userState.isPro;
    const buttonClass = isPro ? 'generate-prd-btn' : 'generate-prd-btn pro-only-btn';
    const buttonText = isPro ? 'Generate Revenue PRD â†’' : 'Generate PRD (Pro Only)';
    const buttonClick = isPro ? `generatePrdPrompt('${escapeHtml(result.title)}', '${escapeHtml(result.snippet || '')}', '${escapeHtml(insight.businessOpportunity || '')}')` : 'showPaywall()';

    return `
      <div class="result-card">
        <span class="market-size-badge ${marketSizeClass}">${insight.marketSize} value</span>
        <div class="card-header">
          <div class="source-info">
            <span class="source-badge ${platformClass}">${platformName}</span>
            <span class="source-date">2 days ago</span>
          </div>
          <div class="problem-statement">
            <h3 class="problem-title">Customer Problem:</h3>
            <p class="problem-text">"${highlightedSnippet}..."</p>
          </div>
        </div>
        <div class="card-body">
          <h4 class="solution-title">Product Opportunity:</h4>
          <p class="solution-text">${insight.businessOpportunity || 'Analyzing opportunity...'}</p>
          
          ${isPro ? `
          <div class="revenue-potential">
            <div class="revenue-title">Revenue Potential</div>
            <div class="revenue-estimate">${insight.revenueEstimate}</div>
            <div class="revenue-timeframe">Expected: ${insight.timeframe} â€¢ Confidence: ${insight.confidence}%</div>
          </div>
          ` : `
          <div class="revenue-potential" style="background: linear-gradient(135deg, var(--bg-pro) 0%, #7c3aed 100%); color: white;">
            <div class="revenue-title" style="color: rgba(255,255,255,0.9);">Revenue Analysis</div>
            <div class="revenue-estimate" style="color: white;">Upgrade to see revenue potential</div>
            <div class="revenue-timeframe" style="color: rgba(255,255,255,0.8);">Market size, timing, confidence scores</div>
          </div>
          `}
        </div>
        <div class="card-action">
          <button class="${buttonClass}" onclick="${buttonClick}">
            ${buttonText}
            ${!isPro ? '<span class="pro-badge">PRO</span>' : ''}
          </button>
          <a href="${result.link}" target="_blank" class="source-link">View Original Complaint</a>
        </div>
      </div>
    `;
  }).join('');

  grid.innerHTML = html;
}

function generatePrdPrompt(originalTitle, snippet, opportunity) {
  // This would call the enhanced Lambda function to generate revenue-focused PRDs
  alert('ðŸš€ Generating revenue-focused PRD...\n\nThis would create a detailed PRD with:\nâ€¢ Market size analysis\nâ€¢ Revenue projections\nâ€¢ Go-to-market strategy\nâ€¢ Competitive landscape\nâ€¢ Risk assessment');
}

function loadDemoSearch() {
  document.getElementById('searchInput').value = 'airplane wifi problems';
  setTimeout(() => {
    displayMonetizedResults(MONETIZED_DEMO_RESULTS.results, 'airplane wifi problems');
  }, 1000);
}

// Make functions global for onclick handlers
Object.assign(window, { 
  showPaywall, 
  hidePaywall, 
  selectPlan, 
  startTrial,
  generatePrdPrompt
});

// Initialize
function init() {
  loadConfig();
  setupEventListeners();
  updateCreditsDisplay();
  loadDemoSearch();
}

init();
</script>
</body>
</html>